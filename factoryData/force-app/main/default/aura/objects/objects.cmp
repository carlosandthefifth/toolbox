<aura:component controller="objectFinderController">
<aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
<aura:attribute name="objectNames" type="String[]"/>
<aura:attribute name="buttonIndex" type="integer" />
<aura:attribute name="recordCount" type="string" />
<aura:attribute name="listSize" type="integer" />
<aura:attribute name="showIt" type="boolean" default="false"/>
<aura:attribute name="showLoading" type="boolean" default="true" />
<aura:attribute name="objectDetailName" type="string"/>
<aura:handler event="force:refreshView" action="{!c.isRefreshed}" />

<aura:if isTrue="{!v.showLoading}">
    <center><b><p>Finding Objects...Please Wait</p></b></center>
    <lightning:spinner aura:id="spinner"  variant="brand" size="large"/>
</aura:if>
<lightning:layout>
<div class="slds-grid slds-wrap">
<aura:if isTrue="{!not(v.showLoading)}">
    <aura:if isTrue="{!not(v.showIt)}">
        <aura:iteration items="{!v.objectNames}" var="aName" indexVar="index">
            <aura:if isTrue="{!(mod(index + 1,2)!=0)}">
                
                    <lightning:layoutItem size="2">
                        <lightning:button  variant="brand" name="{!index}" label="{!aName}" title="{!aName}" onclick="{!c.getObjectDetail}"/> 
                    </lightning:layoutItem>
            </aura:if>
            <aura:if isTrue="{!(mod(index + 1,2)==0)}">
                <lightning:layoutItem size="1">
                Records: {!aName} 
                </lightning:layoutItem>
            </aura:if>
            <aura:if isTrue="{!(mod((index + 1),3)==0)}">
                <br/><br/>
            </aura:if>
        </aura:iteration>
    </aura:if>
    <aura:if isTrue="{!v.showIt}">
            <div class="slds-grid slds-wrap slds-p-horizontal_xx-small">
                <div class="slds-col slds-grow-none">   
                   <div class="detail-title-page">Object API Name:</div> 
                </div>
                <div class="slds-p-horizontal_xx-small">
                        <!--small space-->
                </div>
                <div class="slds-col slds-grow-none">   
                        <div class="slds-text-color_error slds-text-heading_small">{!v.objectDetailName}</div>    
                </div>            
                <div class="slds-col slds-size_12-of-12">
                    <!--fill to create new row-->
                </div>
                <div class="slds-col slds-align-bottom slds-grow-none">
                    Number of Records:
                </div>
                <div class="slds-p-horizontal_xx-small">
                    <!--small space-->
                </div>
                <div class="slds-col slds-grow-none">
                        <lightning:input aura:id="recordInput" name="Records" value="{!v.recordCount}"/>
                </div>
                <div class="slds-col slds-size_6-of-12">

                </div>
                <div class="slds-col slds-size_2-of-12">

                </div>
                <div class="slds-p-horizontal_xx-small">
                        <!--small space-->
                </div>
                <div class="slds-col slds-grow-none">
                    <lightning:button  variant="success" name="{!v.buttonIndex}" label="Save" title="Save" onclick="{!c.save}"/> 
                </div>
                <div class="slds-p-horizontal_xx-small">
                        <!--small space-->
                </div>
                <div class="slds-p-horizontal_xx-small">
                        <!--small space-->
                </div>
                <div class="slds-p-horizontal_xx-small">
                        <!--small space-->
                </div>
                <div class="slds-p-horizontal_xx-small">
                        <!--small space-->
                </div>
                <div class="slds-col slds-align-middle">
                    <lightning:button  variant="Neutral" label="Cancel" title="Cancel" onclick="{!c.getObjectList}"/> 
                </div>
            </div>

    </aura:if>
</aura:if>
</div>
</lightning:layout>

</aura:component>	
